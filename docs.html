<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="author" content="Wendelin Thomas" />
	<meta name="description" content="jQuery plugins" />
	<!--
		<link rel="shortcut icon" href="../../assets/ico/favicon.ico">
	-->
	
	<title>jquery.fn</title>
	
	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
	
	<!-- Custom styles for this template -->
	<style>


/*
* Base structure
*/

/* Move down content because we have a fixed navbar that is 50px tall */
body {
	padding-top: 50px;
}


/*
* Global add-ons
*/

.sub-header {
	padding-bottom: 10px;
	border-bottom: 1px solid #eee;
}


/*
* Sidebar
*/

/* Hide for mobile, show later */
#sidebar {
	display: none;
}
@media (min-width: 768px) {
	#sidebar {
		position: fixed;
		top: 51px;
		bottom: 0;
		left: 0;
		z-index: 1000;
		display: block;
		padding: 20px;
		overflow-x: hidden;
		overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
		background-color: #f5f5f5;
		border-right: 1px solid #eee;
	}
}

/* Sidebar navigation */
.nav-sidebar {
	margin-right: -21px; /* 20px padding + 1px border */
	margin-bottom: 20px;
	margin-left: -20px;
}
.nav-sidebar > li > a {
	padding-right: 15px;
	padding-left: 15px;
}
.nav-sidebar > .active > a {
	color: #fff;
	background-color: #428bca;
}


.nav-sidebar > li > .nav > li > a {
	padding: 0 15px 0 25px;
	font-size: small;
	line-height: normal;
}

.nav-sidebar .active > .nav > .active > a {
	color: #fff;
	background-color: #428bca;
}

.nav-sidebar li.active {
	color:#F00;
}

.nav-sidebar .nav {
	padding-bottom: 10px;
}
.nav-sidebar > .active > ul {
	display: block;
}





/*
* Main content
*/

#main {
	padding: 20px;
}
@media (min-width: 768px) {
	#main {
		padding-right: 40px;
		padding-left: 40px;
	}
	#main .anchor {
		position:relative;
		top:-50px
	 }
}
#main .page-header {
	margin-top: 0;
}


#content {
	font-size: small;
}
#content pre,
#content .badge {
	font-size: inherit;
}
#content .well {
	padding: 9px;
}
#content .well > *:last-child {
	margin-bottom: 0;
}
#content dd {
	margin: 0.2em 0 0.7em 1em;
}
	</style>
	
	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">jquery.fn</a>
			</div>
			<div class="navbar-collapse collapse">
				<!--
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#">Dashboard</a></li>
					<li><a href="#">Settings</a></li>
					<li><a href="#">Profile</a></li>
					<li><a href="#">Help</a></li>
				</ul>
				<form class="navbar-form navbar-right">
					<input type="text" class="form-control" placeholder="Search...">
				</form>
				-->
			</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-3 col-md-2" id="sidebar">
				<ul class="nav nav-sidebar"></ul>
			</div>
			<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2" id="main">
				<h1 class="page-header">jquery.fn</h1>
				<p class="lead">These are a series of jquery plugins.</p>
				<p class="small">(You can drag/drop your js files into the browser to parse their jsDoc notation.)</p>
				<div id="content">
					<p>Documentation should automatically be generated from the comments in the source files and placed here.</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js"></script>
	
	<script id="tmpl-jsdoc-menu" type="text/x-handlebars-template">
		<ul class="nav nav-sidebar">
			{{#each files}}
				<li>
					<a href="#{{jsdoc-uid file}}">{{file}}</a>
					{{#if comments}}
						<ul class="nav">
							{{#each comments~}}
								{{~#jsdoc-tags-has tags "function,method"~}}
								<li {{#jsdoc-tags-filter tags "readonly,private,public,chainable"}} data-jsdoc-{{title}}="true"{{/jsdoc-tags-filter~}}>
									{{#jsdoc-tags-filter tags "function,method,file,name,todo"}}
										<a href="#{{jsdoc-uid ../../../file  ../line}}">{{name}}</a>
									{{/jsdoc-tags-filter}}
								</li>
								{{else}}
								{{~/jsdoc-tags-has~}}
							{{/each}}
						</ul>
					{{/if}}
				</li>
			{{/each}}
		</ul>
	</script>
	<script id="tmpl-jsdoc-content" type="text/x-handlebars-template">
		{{#each files}}
			<div class="panel panel-primary">
				<span id="{{jsdoc-uid file}}" class="anchor"></span>
				<div class="panel-heading">{{file}}</div>
				{{#if comments}}
					<ul class="list-group">
						{{#each comments}}
							<li class="list-group-item"
								{{#jsdoc-tags-filter tags "readonly,private,public,chainable"}}
									data-jsdoc-{{title}}="true"
								{{/jsdoc-tags-filter}}
							>
								<span id="{{jsdoc-uid ../file ./line}}" class="anchor"></span>
								
								<span class="badge" title="line">{{line}}</span>
								
								<h5 class="list-group-item-heading">
									{{#jsdoc-tags-filter tags "function,method,file,name,todo"}}
										{{name}}
									{{/jsdoc-tags-filter}}
									{{#jsdoc-tags-filter tags "readonly,private,public,chainable"}}
										<span class="label label-default" title="{{type}}">{{title}}</span>
									{{/jsdoc-tags-filter}}
								</h5>
								
								{{#if description}}<div class="well">{{{description}}}</div>{{/if}}
								
								{{!--
								{{~#jsdoc-tags-has tags "see"~}}
									<ul class="list-group">
									{{#jsdoc-tags-filter tags "see"}}
										<li class="list-group-item">
											{{jsdoc-json this}}
											<a href="{{description}}">{{description}}</a>
										</li>
									{{/jsdoc-tags-filter}}
									</ul>
								{{~/jsdoc-tags-has}}
								--}}
								
								
								<table class="table table-striped table-bordered table-condensed">
									{{#jsdoc-tags-filter tags "readonly,private,public,chainable,method,function"}}
									{{else}}
										<tr>
											<th>{{this.title}}</th>
											<td>
												{{name}}
												{{#if type}}
													{{!--
														<button class="btn btn-default btn-xs" onclick="console.log({{jsdoc-json type}});">b</button>
													--}}
													{{jsdoc-tmpl "tag-param" type.type type}}
												{{/if}}
												{{#if description}}<pre>{{description}}</pre>{{/if}}
											</td>
										</tr>
									{{/jsdoc-tags-filter}}
								</table>
							</li>
						{{/each}}
					</ul>
				{{else}}
					<div class="panel-body">
						No comments found.
					</div>
				{{/if}}
			</div>
		{{/each}}
	</script>
	
	<script data-jsdoc-tmpl="tag-param-NameExpression" type="text/x-handlebars-template">
		&nbsp;<span class="label label-default">{{name}}</span>
	</script>
	
	<script data-jsdoc-tmpl="tag-param-UnionType" type="text/x-handlebars-template">
		{{#each elements}}
			{{jsdoc-tmpl "tag-param" type}}
		{{/each}}
	</script>
	
	<script data-jsdoc-tmpl="tag-param-TypeApplication" type="text/x-handlebars-template">
		&nbsp;<span class="label label-default" data-type="{{type}}">
			{{expression.name}}
			{{#each applications}}
				{{jsdoc-tmpl "tag-param" type}}
			{{/each}}
		</span>
	</script>
	
	<script data-jsdoc-tmpl="tag-param-RecordType" type="text/x-handlebars-template">
		{{#each fields}}
			&nbsp;
			<span class="label label-info" data-type="{{type}}">
				"{{key}}"
				{{#if value}}
					: {{jsdoc-tmpl "tag-param" value.type value}}
				{{/if}}
			</span>
		{{/each}}
	</script>
	
	<script data-jsdoc-tmpl="tag-param-OptionalType" type="text/x-handlebars-template">
		{{!-- TODO: rework this
		<span class="label label-success" data-type="{{type}}">
			Optional
		</span>
		--}}
		{{jsdoc-tmpl "tag-param" expression.type expression}}
	</script>
	
	
	<script src="https://raw.githubusercontent.com/wendelin/doctrine/master/doctrine.js"></script>
	<script src="jquery.jsdoc.js"></script>
	<script src="jquery.notification.js"></script>
	<script>
	$(function(){
		
		$.notification.fallback = function (title, options, events) {
			var $div = $('<div class="alert alert-info"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button></div>');
			
			$('<strong></strong>').text(title).appendTo($div);
			
			if (options.body) {
				$('<span></span>').text(options.body).appendTo($div);
			}
			
			if (events && events.show) events.show();
			
			$("#main").prepend($div);
			
			var close = $div.close = function () {
				if (events && events.close) events.close();
				close = $div.close = null;
				$div.fadeOut(2000, function(){
					$div.remove();
				});
			};
			
			$div.on("click","button", function (e) {
				e.stopPropagation();
				e.preventDefault();
				close();
			});
		
			return $div;
		};
		
		
		
		
		
		Handlebars.registerHelper('jsdoc-json', function(context, options) {
			if (arguments.length === 1) {
				context = this;
			}
			return JSON.stringify(context);
		});
		
		var tmplMap = {};
		Handlebars.registerHelper('jsdoc-tmpl', function(tId, context, options) {
			var args = $.makeArray(arguments),
				options = args.pop(),
				context = this;
			
			if (arguments.length > 3) {
				context = args.pop();
			}
			
			var tId = args.join("-");
			
			var tmpl = tmplMap[tId];
			if (!tmpl) {
				var html = $('[data-jsdoc-tmpl="' + tId +'"]').html();
				if (!html) {
					console.warn("missing ysdoc tmpl: " + tId);
					console.warn("context:",context);
					console.warn("this:", this);
					return "";
				}
				tmpl = tmplMap[tId] = Handlebars.compile(html)
			}
			return new Handlebars.SafeString(
				tmpl(context)
			);
		});
		
		var uId = 0, uIdMap = {};
		Handlebars.registerHelper('jsdoc-uid', function(options) {
			var args = $.makeArray(arguments);
				args.pop();
			if (options && options.fn) $.error("jsdoc-uid: does not support: options.fn");
			var uKey = args.join(":");	// options.fn(this);
			if (!uIdMap[uKey]) uIdMap[uKey] = "u" + uId++;
			return uIdMap[uKey];
		});
		
		Handlebars.registerHelper('jsdoc-tags-has', function(tags, titles, options) {
			titles = titles.split(",");
			var i, a = [], len = tags.length;
			for (i = 0; i < len; i++) {
				if (titles.indexOf(tags[i].title) !== -1) {
					return options.fn(this);
				}
			}
			return options.inverse(this);
		});
		
		Handlebars.registerHelper('jsdoc-tags-filter', function(tags, titles, options) {
			titles = titles.split(",");
			var i, a = [], len = tags.length;
			for (i = 0; i < len; i++) {
				a.push(
					(titles.indexOf(tags[i].title) !== -1)
					? options.fn(tags[i])
					: options.inverse(tags[i])
				);
			}
			return a.join("");
		});	
		
		
		
		var tmplMenu = Handlebars.compile($("#tmpl-jsdoc-menu").html()),
			tmplContent = Handlebars.compile($("#tmpl-jsdoc-content").html())
		
		var $body = $("body"),
			$sidebar = $("#sidebar"),
			$content = $("#content");
		
		
		var loadParsedFiles = function (results) {
			$sidebar.html(tmplMenu({files:results}));
			$content.html(tmplContent({files:results}));
			
			$body.scrollspy("refresh");
		};
		
		$body.scrollspy({ target: "#sidebar", offset:50 });
		
		
		var loadFiles = function (files) {
			var n1 = $.notification("Loading files to generate documentation, please wait", {useNative:false});
			
			
			$.jsdoc.asyncParse.files(
				files,
				{
					unwrap: false,
					recoverable: true,
					sloppy: true,
					lineNumbers: true
				},
				false
			).then(
				function(files){
					n1.close()
					var n2 = $.notification("Parsing files to generate documentation, please wait", {useNative:false});
					
					loadParsedFiles(files);
					
					n2.close();
				}
			);
			
		};
		
		
		$body
		.on("dragenter dragover", function(e){
			e.stopPropagation();
			e.preventDefault();
		})
		.on("drop", function(e){
			e.stopPropagation();
			e.preventDefault();
			console.log(e);
			console.log(e.originalEvent.dataTransfer.files);
			var files = e.originalEvent.dataTransfer.files;
			
			if (!files.length) return;
			
			loadFiles(files)
		});
		console.info("ready");
		
		
		
		loadFiles(
			[
				"jquery.draw.js",
				"jquery.media.js",
				"jquery.notification.js",
				"jquery.stream.js",
				"jquery.jsdoc.js"
			]
		);
	});
	</script>
</body>
</html>